<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <link rel="stylesheet" href="/static/style.css">
    <script>
        function toggleFields() {
            // Get the selected user type
            const userType = document.getElementById('user_type').value;

            // Hide all fields initially
            document.getElementById('officer_fields').style.display = 'none';
            document.getElementById('violator_fields').style.display = 'none';
            document.getElementById('superuser_fields').style.display = 'none';

            // Show fields based on the user type
            if (userType === 'officer') {
                document.getElementById('officer_fields').style.display = 'block';
            } else if (userType === 'violator') {
                document.getElementById('violator_fields').style.display = 'block';
            } else if (userType === 'superuser') {
                document.getElementById('superuser_fields').style.display = 'block';
            }
        }
    </script>
</head>
<body>
    <h2>Register</h2>
    <form method="POST" action="/register">
        <label>User Type:</label>
        <select id="user_type" name="user_type" onchange="toggleFields()" required>
            <option value="">Select User Type</option>
            <option value="officer">Officer</option>
            <option value="violator">Violator</option>
            <option value="superuser">Super User</option>
        </select>

        <label>First Name:</label>
        <input type="text" name="first_name" required>

        <label>Last Name:</label>
        <input type="text" name="last_name" required>

        <label>Phone Number:</label>
        <input type="text" name="phone_number" required>

        <label>Email:</label>
        <input type="email" name="email" required>

        <label>Password:</label>
        <input type="password" name="password" required>

        <!-- Officer Fields -->
        <div id="officer_fields" style="display: none;">
            <label>Badge Number:</label>
            <input type="text" name="badge_number">

            <label>Precinct:</label>
            <input type="text" name="precinct">

            <label>Contact Info:</label>
            <input type="text" name="contact_info">
        </div>

        <!-- Violator Fields -->
        <div id="violator_fields" style="display: none;">
            <label>License Number:</label>
            <input type="text" name="license_number">

            <label>Address:</label>
            <input type="text" name="address">
        </div>

        <!-- Super User Fields -->
        <div id="superuser_fields" style="display: none;">
            <label>Role:</label>
            <select name="role" required>
                <option value="admin">Admin</option>
                <option value="manager">Manager</option>
            </select>
        </div>

        <button type="submit">Register</button>
    </form>
    <p>Already have an account? <a href="/login">Login here</a></p>
</body>
</html>
